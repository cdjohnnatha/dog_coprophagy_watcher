# ------------------------------
# MQTT and Camera Configuration
# ------------------------------

# MQTT_USER / MQTT_PASS:
# Credentials used to connect to your MQTT broker (usually the same
# broker used by Home Assistant and Frigate). Leave blank if authentication
# is not required.

MQTT_USER=your_mqtt_username
MQTT_PASS=your_mqtt_password

# MQTT_HOST / MQTT_PORT:
# Address and port of your MQTT broker.
# Default for Home Assistant add-on (Mosquitto) is usually:
# MQTT_HOST=core-mosquitto
# MQTT_PORT=1883

MQTT_HOST=core-mosquitto
MQTT_PORT=1883

# CAMERA_NAME:
# Name of the camera entity as configured in Frigate.
# Must exactly match the camera name in Frigate’s configuration.yml.

CAMERA_NAME=your_camera_name

# TOILET_ZONE:
# Name of the detection zone in Frigate where defecation events are monitored.
# This must match the “zones:” key defined in Frigate (e.g., toilet_zone).

TOILET_ZONE=your_toilet_zone

# ------------------------------
# Ellie Watcher - Heuristic Tuning Variables
# ------------------------------

# SQUAT_SCORE_THRESH:
# Minimum squat score required to consider that Ellie is lowering her posture.
# Higher = stricter detection (fewer false positives), lower = more sensitive.
# Typical range: 0.55–0.70

#SQUAT_SCORE_THRESH=0.62

# SQUAT_MIN_DURATION_S:
# Minimum duration (in seconds) that the squat posture must persist
# before it is considered a potential defecation event.
# Prevents quick movements from triggering false events.

#SQUAT_MIN_DURATION_S=2.0

# RESIDUE_CONFIRM_WINDOW_S:
# Time window (in seconds) to keep checking the camera after Ellie finishes squatting,
# looking for a new static object (the poop) on the floor.
# Longer windows improve accuracy but increase CPU usage.

#RESIDUE_CONFIRM_WINDOW_S=20

# RESIDUE_MIN_AREA:
# Minimum blob area (in pixels) to consider it as a residue.
# Small blobs (reflections, shadows, small objects) below this area are ignored.

#RESIDUE_MIN_AREA=140

# RESIDUE_STATIC_SEC:
# Minimum time (in seconds) that the detected residue must remain still
# before confirming it as real. Helps filter out temporary artifacts.

#RESIDUE_STATIC_SEC=2.0

# SNAPSHOT_FPS:
# Number of frames per second fetched from Frigate during active monitoring
# (when Ellie is inside the toilet_zone). Affects responsiveness and CPU load.

#SNAPSHOT_FPS=4

# CHECK_INTERVAL_S:
# Interval (in seconds) to periodically recheck the residue ROI
# to determine whether the poop has been removed (cleaned).
# Used while poop_present == true.

#CHECK_INTERVAL_S=15